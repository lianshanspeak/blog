# 资产探测版块介绍

## 1.资产管理的内容

![image-20221225170948156](./image/image-20221225170948156.png)

扫描探测服务，主动收集信息

![image-20221225171148076](./image/image-20221225171148076.png)

![image-20221225171208280](./image/image-20221225171208280.png)

优势

![image-20221225171305473](./image/image-20221225171305473.png)

补充：虚拟机里面的虚拟机不在探测

![image-20221225171448491](./image/image-20221225171448491.png)

imoocc项目里面

自动化扫描是在main.py里实现的，可以定时任务执行这个文件

## 2.整体探测流程

![image-20221225174431220](./image/image-20221225174431220.png)



存活探测

trancroute

![image-20221225174535741](./image/image-20221225174535741.png)

![image-20221225174652947](./image/image-20221225174652947.png)

局域网内部扫描

![image-20221225174955115](./image/image-20221225174955115.png) 

![image-20221225175233259](./image/image-20221225175233259.png)

![image-20221225175354237](./image/image-20221225175354237.png)

-PE探测主机的存活状态,展示主机当前的一些服务，**确认服务是否存活**

![image-20221225175211444](./image/image-20221225175211444.png)

探测哪些常存在的

![image-20221225180131263](./image/image-20221225180131263.png)

## 3.python的nmap使用

安装

![image-20221225180611146](./image/image-20221225180611146.png)

在ipython中测试，等待返回结果

![image-20221225180730923](./image/image-20221225180730923.png)

展示IP列表

![image-20221225180843005](./image/image-20221225180843005.png)

判断是否是linux

![](./image/image-20221225180927822.png)

![image-20221225180955132](./image/image-20221225180955132.png)

![image-20221225181030220](./image/image-20221225181030220.png)

在ipython中测试

![image-20221225181231247](./image/image-20221225181231247.png)

![image-20221225181248920](./image/image-20221225181248920.png)

![image-20221225181334591](./image/image-20221225181334591.png)

![image-20221225181423327](./image/image-20221225181423327.png)

![image-20221225181438149](./image/image-20221225181438149.png)



密钥登录信息确认参数打开

![image-20221225181924978](./image/image-20221225181924978.png)

![image-20221225181916539](./image/image-20221225181916539.png)

![image-20221225182240438](./image/image-20221225182240438.png)

确保权限正确

![image-20221225182439666](./image/image-20221225182439666.png)

权限正确以后把rsa.pub拷贝到客户端/tmp/id_rsa

![image-20221225182402245](./image/image-20221225182402245.png)

## 4.python的ssh登录模块

![image-20221225185739767](./image/image-20221225185739767.png)

![image-20221225185755832](./image/image-20221225185755832.png)

pexpect安装

![image-20221225185959555](./image/image-20221225185959555.png)

测试

![image-20221225190119816](./image/image-20221225190119816.png)



![image-20221225190201601](./image/image-20221225190201601.png)

![image-20221225190554469](./image/image-20221225190554469.png)

![image-20221225190728982](./image/image-20221225190728982.png)

正则匹配

![image-20221225190756780](./image/image-20221225190756780.png)

![image-20221225190859742](./image/image-20221225190859742.png)

![image-20221225190929910](./image/image-20221225190929910.png)

![image-20221225191002119](./image/image-20221225191002119.png)

send会加上回车符，sendline不会

![image-20221225191241007](./image/image-20221225191241007.png)

相关脚本在script/4_4_9_ssh_login_password

![image-20221225191930666](./image/image-20221225191930666.png)

![image-20221225192307093](./image/image-20221225192307093.png)

![image-20221225192338288](./image/image-20221225192338288.png)



